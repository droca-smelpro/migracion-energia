{
  "entityType" : "RULE_CHAIN",
  "entity" : {
    "additionalInfo" : {
      "description" : ""
    },
    "configuration" : null,
    "debugMode" : false,
    "externalId" : null,
    "firstRuleNodeId" : {
      "entityType" : "RULE_NODE",
      "id" : "6e065c80-a094-11f0-a80a-d12bdf692708"
    },
    "id" : {
      "entityType" : "RULE_CHAIN",
      "id" : "4f3e43d0-a094-11f0-a80a-d12bdf692708"
    },
    "name" : "Remap InteliLite 4",
    "root" : false,
    "type" : "CORE"
  },
  "metaData" : {
    "connections" : [ {
      "fromIndex" : 0,
      "toIndex" : 1,
      "type" : "Success"
    }, {
      "fromIndex" : 1,
      "toIndex" : 2,
      "type" : "Success"
    }, {
      "fromIndex" : 2,
      "toIndex" : 3,
      "type" : "Success"
    }, {
      "fromIndex" : 3,
      "toIndex" : 5,
      "type" : "Success"
    }, {
      "fromIndex" : 5,
      "toIndex" : 4,
      "type" : "Success"
    }, {
      "fromIndex" : 5,
      "toIndex" : 7,
      "type" : "Success"
    }, {
      "fromIndex" : 7,
      "toIndex" : 6,
      "type" : "Success"
    } ],
    "firstNodeIndex" : 0,
    "nodes" : [ {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 316,
        "layoutY" : 149
      },
      "configuration" : {
        "renameIn" : "DATA",
        "renameKeysMapping" : {
          "loa_p" : "generatorP",
          "loa_p_l1" : "generatorPL1",
          "loa_p_l2" : "generatorPL2",
          "loa_p_l3" : "generatorPL3",
          "loa_q" : "generatorQ",
          "loa_q_l1" : "generatorQL1",
          "loa_q_l2" : "generatorQL2",
          "loa_q_l3" : "generatorQL3",
          "loa_s" : "generatorS",
          "loa_s_l1" : "generatorSL1",
          "loa_s_l2" : "generatorSL2",
          "loa_s_l3" : "generatorSL3",
          "loa_pow_fac" : "generatorPowerFactor",
          "loa_pow_fa_l1" : "generatorPowerFactorL1",
          "loa_pow_fa_l2" : "generatorPowerFactorL2",
          "loa_pow_fa_l3" : "generatorPowerFactorL3",
          "gen_fre" : "generatorFrequency",
          "gen_vol_l1n" : "generatorVoltageL1N",
          "gen_vol_l2n" : "generatorVoltageL2N",
          "gen_vol_l3n" : "generatorVoltageL1N",
          "gen_vol_l1l2" : "generatorVoltageL1L2",
          "gen_vol_l2l3" : "generatorVoltageL2L3",
          "gen_vol_l3l1" : "generatorVoltageL3L1",
          "loa_cur_l1" : "generatorCurrentL1",
          "loa_cur_l2" : "generatorCurrentL2",
          "loa_cur_l3" : "generatorCurrentL3",
          "ear_fau_cur" : "generatorEarthFaultCurrent",
          "gen_kwh_kwh" : "generatorGensetKWh",
          "gen_kva_kva" : "generatorGensetKVArh"
        }
      },
      "configurationVersion" : 2,
      "createdTime" : 0,
      "debugSettings" : {
        "allEnabled" : false,
        "allEnabledUntil" : 0,
        "failuresEnabled" : false
      },
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "6e065c80-a094-11f0-a80a-d12bdf692708"
      },
      "name" : "Generator",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.transform.TbRenameKeysNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 626,
        "layoutY" : 141
      },
      "configuration" : {
        "renameIn" : "DATA",
        "renameKeysMapping" : {
          "mai_fre" : "mainsFrequency",
          "mai_vol_l1n" : "mainsVoltageL1N",
          "mai_vol_l2n" : "mainsVoltageL2N",
          "mai_vol_l3n" : "mainsVoltageL3N",
          "mai_vol_l1l2" : "mainsVoltageL1L2",
          "mai_vol_l2l3" : "mainsVoltageL2L3",
          "mai_vol_l3l1" : "mainsVoltageL3L1"
        }
      },
      "configurationVersion" : 2,
      "createdTime" : 0,
      "debugSettings" : {
        "allEnabled" : false,
        "allEnabledUntil" : 0,
        "failuresEnabled" : false
      },
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "6e068390-a094-11f0-a80a-d12bdf692708"
      },
      "name" : "Mains",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.transform.TbRenameKeysNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 985,
        "layoutY" : 138
      },
      "configuration" : {
        "renameIn" : "DATA",
        "renameKeysMapping" : {
          "act_res" : "loadActualReserve",
          "sta_res" : "loadStartReserve",
          "sto_res" : "loadStopReserve",
          "run_nom_pow_i" : "loadRunningNominalPowerInPM",
          "run_nom_pow_o" : "loadRunningNominalPowerOfAll",
          "run_nom_pow_o ava_nom_pow" : "loadAvailableNominalPowerInPM",
          "dpf_soo_loa" : "loadDPF1Soot",
          "dpf_ash_loa" : "loadDPF1Ash",
          "def_lev" : "loadDEFLevel",
          "dpf" : "loadDPFStatus",
          "loa_p" : "loadP"
        }
      },
      "configurationVersion" : 2,
      "createdTime" : 0,
      "debugSettings" : {
        "allEnabled" : false,
        "allEnabledUntil" : 0,
        "failuresEnabled" : false
      },
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "6e068391-a094-11f0-a80a-d12bdf692708"
      },
      "name" : "Load/System",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.transform.TbRenameKeysNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 59,
        "layoutY" : 294
      },
      "configuration" : {
        "renameIn" : "DATA",
        "renameKeysMapping" : {
          "bat_vol" : "engineBatteryVolts",
          "d" : "engineDPlus",
          "run_hou" : "engineRunningHours",
          "num_sta" : "engineNumStarts",
          "mai_1" : "engineMaintenanceTimer1RunHours",
          "mai_2" : "engineMaintenanceTimer2RunHours",
          "mai_3" : "engineMaintenanceTimer3RunHours",
          "ren_1" : "engineRental1",
          "ren_2" : "engineRental2",
          "num_est" : "engineNumEStops",
          "shu" : "engineShutdowns",
          "tot_fue_con_l" : "engineTotalFuelConsumption",
          "tim_til_emp" : "engineTimeTillEmpty",
          "tim_til_emp_h" : "engineTimeTillEmptyHrs",
          "tim_til_emp_m" : "engineTimeTillEmptyMin",
          "act_pow_req" : "engineRequiredP",
          "spe_reg_out" : "engineSpeedRegulatorOutput",
          "spe_req" : "engineSpeedRequest",
          "req_rpm" : "engineRequestedRPM",
          "rea_pow_req" : "engineRequiredQ",
          "vol_reg_out" : "engineVoltageRegulatorOutput",
          "vol_req" : "engineVoltageRequest",
          "nom_pow" : "engineNominalPower",
          "nom_vol" : "engineVoltageRequest",
          "nom_cur" : "engineNominalCurrent",
          "eng_sta" : "engineState",
          "eng_pri" : "enginePriority",
          "ecu_sta" : "engineECUState",
          "ecu_fre_sel" : "engineECUFrequencySelect",
          "spe_req_1" : "engineSpeedRequest2",
          "req_rpm_1" : "engineRequestedRPM2",
          "rpm" : "engineRPM"
        }
      },
      "configurationVersion" : 2,
      "createdTime" : 0,
      "debugSettings" : {
        "allEnabled" : false,
        "allEnabledUntil" : 0,
        "failuresEnabled" : false
      },
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "6e068392-a094-11f0-a80a-d12bdf692708"
      },
      "name" : "Engine/ECU",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.transform.TbRenameKeysNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 720,
        "layoutY" : 299
      },
      "configuration" : {
        "version" : 0
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugSettings" : {
        "allEnabled" : false,
        "allEnabledUntil" : 1759527167217,
        "failuresEnabled" : false
      },
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "6e068393-a094-11f0-a80a-d12bdf692708"
      },
      "name" : "Output",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.flow.TbRuleChainOutputNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 365,
        "layoutY" : 300
      },
      "configuration" : {
        "renameIn" : "DATA",
        "renameKeysMapping" : {
          "est" : "ioEStop",
          "con_mod" : "statusControllerMode",
          "bre_sta" : "statusBrakerState"
        }
      },
      "configurationVersion" : 2,
      "createdTime" : 0,
      "debugSettings" : {
        "allEnabled" : false,
        "allEnabledUntil" : 0,
        "failuresEnabled" : false
      },
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "6e06aaa0-a094-11f0-a80a-d12bdf692708"
      },
      "name" : "Status",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.transform.TbRenameKeysNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 1025,
        "layoutY" : 394
      },
      "configuration" : {
        "processingSettings" : {
          "type" : "ON_EVERY_MESSAGE"
        },
        "scope" : "SHARED_SCOPE",
        "notifyDevice" : false,
        "sendAttributesUpdatedNotification" : false,
        "updateAttributesOnlyOnValueChange" : false
      },
      "configurationVersion" : 3,
      "createdTime" : 0,
      "debugSettings" : {
        "allEnabled" : false,
        "allEnabledUntil" : 0,
        "failuresEnabled" : false
      },
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "6e06d1b0-a094-11f0-a80a-d12bdf692708"
      },
      "name" : "Save as atrributes",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.telemetry.TbMsgAttributesNode"
    }, {
      "additionalInfo" : {
        "description" : "",
        "layoutX" : 726,
        "layoutY" : 381
      },
      "configuration" : {
        "scriptLang" : "TBEL",
        "jsScript" : "return {msg: msg, metadata: metadata, msgType: msgType};",
        "tbelScript" : "newMsg = {};\n\nnewMsg.statusControllerMode = msg.statusControllerMode;\nnewMsg.statusBrakerState = msg.statusBrakerState;\n\nreturn {msg: newMsg, metadata: metadata, msgType: 'POST_ATTRIBUTES_REQUEST'};"
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugSettings" : {
        "allEnabled" : false,
        "allEnabledUntil" : 0,
        "failuresEnabled" : false
      },
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "6e06f8c0-a094-11f0-a80a-d12bdf692708"
      },
      "name" : "Filter data for attributes",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.transform.TbTransformMsgNode"
    } ],
    "ruleChainConnections" : null
  },
  "relations" : [ ],
  "attributes" : {
    "SERVER_SCOPE" : [ ]
  }
}